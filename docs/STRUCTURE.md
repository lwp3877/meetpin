# í”„ë¡œì íŠ¸ êµ¬ì¡° (Project Structure)

ë°‹í•€(MeetPin) í”„ë¡œì íŠ¸ì˜ í´ë” êµ¬ì¡°ì™€ ê° íŒŒì¼ì˜ ì—­í• ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ“ ì „ì²´ êµ¬ì¡° ê°œìš”

```
meetpin/
â”œâ”€â”€ src/                      # ì†ŒìŠ¤ ì½”ë“œ ë£¨íŠ¸
â”‚   â”œâ”€â”€ app/                  # Next.js 15 App Router í˜ì´ì§€
â”‚   â”œâ”€â”€ components/           # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ hooks/                # ì»¤ìŠ¤í…€ React í›…
â”‚   â”œâ”€â”€ lib/                  # ìœ í‹¸ë¦¬í‹°, ì„œë¹„ìŠ¤, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â””â”€â”€ types/                # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ public/                   # ì •ì  íŒŒì¼ (ì´ë¯¸ì§€, í°íŠ¸ ë“±)
â”œâ”€â”€ scripts/                  # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ SQL
â”œâ”€â”€ tests/                    # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ analysis/                 # ë¦¬íŒ©í† ë§ ë¶„ì„ ë¬¸ì„œ
â””â”€â”€ docs/                     # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

---

## ğŸ“‚ src/app/ - Next.js í˜ì´ì§€ ë¼ìš°íŒ…

Next.js 15 App Router ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê° í´ë”ê°€ URL ê²½ë¡œê°€ ë©ë‹ˆë‹¤.

### ì£¼ìš” í˜ì´ì§€

```
app/
â”œâ”€â”€ page.tsx                  # ëœë”© í˜ì´ì§€ (/) - ì„œë¹„ìŠ¤ ì†Œê°œ
â”œâ”€â”€ layout.tsx                # ì „ì—­ ë ˆì´ì•„ì›ƒ (ë©”íƒ€ë°ì´í„°, í°íŠ¸, Providers)
â”œâ”€â”€ globals.css               # ì „ì—­ CSS ìŠ¤íƒ€ì¼
â”‚
â”œâ”€â”€ map/                      # ë©”ì¸ ì•± í™”ë©´ (/map)
â”‚   â””â”€â”€ page.tsx              # ì§€ë„ ê¸°ë°˜ ëª¨ì„ íƒìƒ‰ í™”ë©´
â”‚
â”œâ”€â”€ room/                     # ëª¨ì„ ê´€ë ¨ í˜ì´ì§€
â”‚   â”œâ”€â”€ new/                  # ëª¨ì„ ìƒì„± (/room/new)
â”‚   â””â”€â”€ [id]/                 # ëª¨ì„ ìƒì„¸ (/room/:id)
â”‚
â”œâ”€â”€ chat/                     # ì±„íŒ… í˜ì´ì§€
â”‚   â””â”€â”€ [matchId]/            # 1:1 ë§¤ì¹­ ì±„íŒ… (/chat/:matchId)
â”‚
â”œâ”€â”€ profile/                  # í”„ë¡œí•„ í˜ì´ì§€
â”‚   â””â”€â”€ page.tsx              # ë‚´ í”„ë¡œí•„ ë³´ê¸°/ìˆ˜ì • (/profile)
â”‚
â”œâ”€â”€ admin/                    # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ page.tsx              # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (/admin)
â”‚   â”œâ”€â”€ reports/              # ì‹ ê³  ê´€ë¦¬
â”‚   â””â”€â”€ users/                # ì‚¬ìš©ì ê´€ë¦¬
â”‚
â”œâ”€â”€ legal/                    # ë²•ì  ë¬¸ì„œ
â”‚   â”œâ”€â”€ terms/                # ì´ìš©ì•½ê´€
â”‚   â”œâ”€â”€ privacy/              # ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨
â”‚   â””â”€â”€ location/             # ìœ„ì¹˜ê¸°ë°˜ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€
â”‚
â””â”€â”€ api/                      # API ë¼ìš°íŠ¸ (ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜)
    â”œâ”€â”€ auth/                 # ì¸ì¦ API
    â”œâ”€â”€ rooms/                # ëª¨ì„ CRUD API
    â”œâ”€â”€ requests/             # ì°¸ê°€ ìš”ì²­ API
    â”œâ”€â”€ matches/              # ë§¤ì¹­ API
    â”œâ”€â”€ messages/             # ì±„íŒ… ë©”ì‹œì§€ API
    â”œâ”€â”€ profile/              # í”„ë¡œí•„ API
    â”œâ”€â”€ reports/              # ì‹ ê³  API
    â”œâ”€â”€ stripe/               # Stripe ê²°ì œ API
    â”œâ”€â”€ health/               # í—¬ìŠ¤ì²´í¬ API
    â”œâ”€â”€ cache/                # ìºì‹œ ê´€ë¦¬ API
    â””â”€â”€ telemetry/            # í…”ë ˆë©”íŠ¸ë¦¬ API
```

### API ë¼ìš°íŠ¸ íŒ¨í„´

ëª¨ë“  APIëŠ” ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

```typescript
interface ApiResponse<T> {
  ok: boolean
  data?: T
  code?: string
  message?: string
}
```

---

## ğŸ§© src/components/ - React ì»´í¬ë„ŒíŠ¸

ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¥˜í–ˆìŠµë‹ˆë‹¤.

```
components/
â”œâ”€â”€ auth/                     # ì¸ì¦ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ SignupForm.tsx        # íšŒì›ê°€ì… í¼
â”‚   â”œâ”€â”€ LoginForm.tsx         # ë¡œê·¸ì¸ í¼
â”‚   â””â”€â”€ AuthGuard.tsx         # ì¸ì¦ ë³´í˜¸ ë˜í¼
â”‚
â”œâ”€â”€ chat/                     # ì±„íŒ… ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ChatRoom.tsx          # ì±„íŒ…ë°© UI
â”‚   â”œâ”€â”€ MessageList.tsx       # ë©”ì‹œì§€ ëª©ë¡
â”‚   â””â”€â”€ MessageInput.tsx      # ë©”ì‹œì§€ ì…ë ¥ì°½
â”‚
â”œâ”€â”€ common/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Providers.tsx         # React Query, Toast ë“± Provider ëª¨ìŒ
â”‚   â”œâ”€â”€ Header.tsx            # ì „ì—­ í—¤ë”
â”‚   â”œâ”€â”€ Footer.tsx            # ì „ì—­ í‘¸í„°
â”‚   â””â”€â”€ ImageUploader.tsx     # ì´ë¯¸ì§€ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€â”€ error/                    # ì—ëŸ¬ ì²˜ë¦¬ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ErrorBoundary.tsx     # React Error Boundary
â”‚   â””â”€â”€ ErrorFallback.tsx     # ì—ëŸ¬ í´ë°± UI
â”‚
â”œâ”€â”€ icons/                    # ì»¤ìŠ¤í…€ ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ MapPinIcon.tsx        # ì§€ë„ í•€ ì•„ì´ì½˜
â”‚   â””â”€â”€ CategoryIcons.tsx     # ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜
â”‚
â”œâ”€â”€ landing/                  # ëœë”© í˜ì´ì§€ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ HeroSection.tsx       # íˆì–´ë¡œ ì„¹ì…˜
â”‚   â”œâ”€â”€ FeaturesSection.tsx   # ê¸°ëŠ¥ ì†Œê°œ ì„¹ì…˜
â”‚   â””â”€â”€ CTASection.tsx        # Call-to-Action ì„¹ì…˜
â”‚
â”œâ”€â”€ layout/                   # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ MainLayout.tsx        # ë©”ì¸ ë ˆì´ì•„ì›ƒ ë˜í¼
â”‚   â””â”€â”€ Sidebar.tsx           # ì‚¬ì´ë“œë°”
â”‚
â”œâ”€â”€ map/                      # ì§€ë„ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ MapWithCluster.tsx    # í´ëŸ¬ìŠ¤í„°ë§ ì§€ë„ (ë©”ì¸)
â”‚   â”œâ”€â”€ LocationPicker.tsx    # ìœ„ì¹˜ ì„ íƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ RoomMarker.tsx        # ëª¨ì„ ë§ˆì»¤
â”‚   â””â”€â”€ ClusterMarker.tsx     # í´ëŸ¬ìŠ¤í„° ë§ˆì»¤
â”‚
â”œâ”€â”€ mobile/                   # ëª¨ë°”ì¼ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ mobile-optimized-layout.tsx  # ëª¨ë°”ì¼ ìµœì í™” ë ˆì´ì•„ì›ƒ
â”‚
â”œâ”€â”€ premium/                  # í”„ë¦¬ë¯¸ì—„ ë””ìì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ enhanced-landing.tsx  # í”„ë¦¬ë¯¸ì—„ ëœë”© í˜ì´ì§€
â”‚
â”œâ”€â”€ room/                     # ëª¨ì„ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ RoomCard.tsx          # ëª¨ì„ ì¹´ë“œ (ëª©ë¡ìš©)
â”‚   â”œâ”€â”€ RoomDetail.tsx        # ëª¨ì„ ìƒì„¸ ì •ë³´
â”‚   â”œâ”€â”€ RoomForm.tsx          # ëª¨ì„ ìƒì„±/ìˆ˜ì • í¼
â”‚   â”œâ”€â”€ JoinRequestButton.tsx # ì°¸ê°€ ìš”ì²­ ë²„íŠ¼
â”‚   â””â”€â”€ ParticipantsList.tsx  # ì°¸ê°€ì ëª©ë¡
â”‚
â””â”€â”€ ui/                       # shadcn/ui ê¸°ë°˜ ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ button.tsx            # ê¸°ë³¸ ë²„íŠ¼
    â”œâ”€â”€ input.tsx             # ê¸°ë³¸ ì¸í’‹
    â”œâ”€â”€ card.tsx              # ê¸°ë³¸ ì¹´ë“œ
    â”œâ”€â”€ dialog.tsx            # ë‹¤ì´ì–¼ë¡œê·¸/ëª¨ë‹¬
    â”œâ”€â”€ dropdown-menu.tsx     # ë“œë¡­ë‹¤ìš´ ë©”ë‰´
    â”œâ”€â”€ select.tsx            # ì…€ë ‰íŠ¸ ë°•ìŠ¤
    â”œâ”€â”€ textarea.tsx          # í…ìŠ¤íŠ¸ ì˜ì—­
    â”œâ”€â”€ badge.tsx             # ë°°ì§€
    â”œâ”€â”€ avatar.tsx            # ì•„ë°”íƒ€
    â”œâ”€â”€ skeleton.tsx          # ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”
    â”œâ”€â”€ toast.tsx             # í† ìŠ¤íŠ¸ ì•Œë¦¼
    â”œâ”€â”€ EnhancedButton.tsx    # ê³ ê¸‰ ê¸°ëŠ¥ ë²„íŠ¼
    â”œâ”€â”€ premium-button.tsx    # í”„ë¦¬ë¯¸ì—„ ë””ìì¸ ë²„íŠ¼
    â”œâ”€â”€ premium-card.tsx      # í”„ë¦¬ë¯¸ì—„ ì¹´ë“œ
    â”œâ”€â”€ BoostModal.tsx        # ë¶€ìŠ¤íŠ¸ ê²°ì œ ëª¨ë‹¬
    â”œâ”€â”€ ProfileModal.tsx      # í”„ë¡œí•„ ìƒì„¸ ëª¨ë‹¬
    â””â”€â”€ RealtimeChatModal.tsx # ì‹¤ì‹œê°„ ì±„íŒ… ëª¨ë‹¬
```

### ì»´í¬ë„ŒíŠ¸ ë„¤ì´ë° ê·œì¹™

- **PascalCase**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ íŒŒì¼ (ì˜ˆ: `RoomCard.tsx`)
- **ê¸°ë³¸ UI**: `ui/` í´ë”ëŠ” shadcn/ui ê¸°ë°˜ ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
- **ê¸°ëŠ¥ë³„ ë¶„ë¥˜**: ë„ë©”ì¸ë³„ë¡œ í´ë” êµ¬ë¶„ (auth, chat, room ë“±)

---

## ğŸª src/hooks/ - ì»¤ìŠ¤í…€ React í›…

ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ì€ ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.

```
hooks/
â”œâ”€â”€ useRealtimeChat.ts              # ì‹¤ì‹œê°„ ì±„íŒ… í›… (Supabase Realtime)
â”œâ”€â”€ useRealtimeNotifications.ts     # ì‹¤ì‹œê°„ ì•Œë¦¼ í›…
â””â”€â”€ useKeyboardNavigation.ts        # í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ í›… (ì ‘ê·¼ì„±)
```

### ì£¼ìš” í›… ì„¤ëª…

- **useRealtimeChat**: Supabase Realtimeì„ ì‚¬ìš©í•œ 1:1 ì±„íŒ…, íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°, ì˜¨ë¼ì¸ ìƒíƒœ
- **useRealtimeNotifications**: ì‹¤ì‹œê°„ ì•Œë¦¼ êµ¬ë…, ì½ìŒ ì²˜ë¦¬, Browser Push ì—°ë™
- **useKeyboardNavigation**: ì ‘ê·¼ì„±ì„ ìœ„í•œ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì›

---

## ğŸ“š src/lib/ - í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

ìœ í‹¸ë¦¬í‹°, ì„œë¹„ìŠ¤, API í´ë¼ì´ì–¸íŠ¸, ì„¤ì • ë“± í•µì‹¬ ë¡œì§ì´ ëª¨ì—¬ìˆìŠµë‹ˆë‹¤.

```
lib/
â”œâ”€â”€ accessibility/            # ì ‘ê·¼ì„± ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ a11yEnhancement.ts    # WCAG 2.1 AA ì¤€ìˆ˜ ì ‘ê·¼ì„± í–¥ìƒ
â”‚
â”œâ”€â”€ bot/                      # ë´‡ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ bot-scheduler.ts      # ë´‡ ë°© ìë™ ìƒì„± ë° ê´€ë¦¬
â”‚   â””â”€â”€ smart-room-generator.ts # ìŠ¤ë§ˆíŠ¸ ë´‡ ë°© ìƒì„± ë¡œì§
â”‚
â”œâ”€â”€ cache/                    # ìºì‹± ì‹œìŠ¤í…œ
â”‚   â””â”€â”€ redis.ts              # Redis/Upstash ë¶„ì‚° ìºì‹±
â”‚
â”œâ”€â”€ config/                   # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ koreanAvatars.ts      # í•œêµ­ ì‚¬ìš©ììš© ì•„ë°”íƒ€ ëª©ë¡
â”‚   â””â”€â”€ siteConfig.ts         # ì‚¬ì´íŠ¸ ì „ì—­ ì„¤ì •
â”‚
â”œâ”€â”€ design/                   # ë””ìì¸ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ brand.ts              # ë¸Œëœë“œ ì»¬ëŸ¬, ë©”ì‹œì§€
â”‚   â””â”€â”€ theme.ts              # í…Œë§ˆ ì„¤ì •
â”‚
â”œâ”€â”€ observability/            # ê´€ì°° ê°€ëŠ¥ì„±
â”‚   â”œâ”€â”€ logger.ts             # êµ¬ì¡°í™” ë¡œê¹… (PII ìŠ¤í¬ëŸ¬ë¹™)
â”‚   â””â”€â”€ telemetry.ts          # í…”ë ˆë©”íŠ¸ë¦¬ ìˆ˜ì§‘
â”‚
â”œâ”€â”€ payments/                 # ê²°ì œ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ stripe.ts             # Stripe í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ boost.ts              # ë¶€ìŠ¤íŠ¸ ê²°ì œ ë¡œì§
â”‚
â”œâ”€â”€ security/                 # ë³´ì•ˆ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ csp.ts                # Content Security Policy
â”‚   â”œâ”€â”€ validation.ts         # ì…ë ¥ ê²€ì¦
â”‚   â””â”€â”€ sanitize.ts           # XSS ë°©ì§€ ìƒˆë‹ˆíƒ€ì´ì§•
â”‚
â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ auth.ts               # ì¸ì¦ ì„œë¹„ìŠ¤ (ì„œë²„)
â”‚   â”œâ”€â”€ authService.ts        # ì¸ì¦ ì„œë¹„ìŠ¤ (í´ë¼ì´ì–¸íŠ¸)
â”‚   â”œâ”€â”€ roomService.ts        # ëª¨ì„ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ chatService.ts        # ì±„íŒ… ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ notificationService.ts # ì•Œë¦¼ ì„œë¹„ìŠ¤
â”‚
â”œâ”€â”€ utils/                    # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ dataValidation.ts     # ë°ì´í„° ê²€ì¦
â”‚   â”œâ”€â”€ textSafe.ts           # ì•ˆì „í•œ í…ìŠ¤íŠ¸ ì²˜ë¦¬
â”‚   â”œâ”€â”€ hydration.ts          # SSR/CSR í•˜ì´ë“œë ˆì´ì…˜ ìœ í‹¸
â”‚   â””â”€â”€ logger.ts             # ê°„ë‹¨í•œ ë¡œê±° (ê°œë°œìš©)
â”‚
â”œâ”€â”€ api.ts                    # API ìœ í‹¸ë¦¬í‹° (ê³µí†µ ì‘ë‹µ í¬ë§·, ì—ëŸ¬ ì²˜ë¦¬)
â”œâ”€â”€ rateLimit.ts              # Rate Limiting (Upstash Redis)
â”œâ”€â”€ supabaseClient.ts         # Supabase í´ë¼ì´ì–¸íŠ¸ (Browser, Server, Admin)
â”œâ”€â”€ useAuth.tsx               # ì¸ì¦ Context/Hook
â”œâ”€â”€ bot-scheduler.ts          # ë ˆê±°ì‹œ ë´‡ ìŠ¤ì¼€ì¤„ëŸ¬ (ì‹œê°„ ê¸°ë°˜)
â””â”€â”€ age-verification.ts       # ë‚˜ì´ ì¸ì¦ ë¡œì§
```

### ì£¼ìš” íŒŒì¼ ì„¤ëª…

#### **api.ts** - API ê³µí†µ ìœ í‹¸ë¦¬í‹°
- `ApiResponse<T>` ì¸í„°í˜ì´ìŠ¤: ì¼ê´€ëœ API ì‘ë‹µ í¬ë§·
- `ApiError` í´ë˜ìŠ¤: êµ¬ì¡°í™”ëœ ì—ëŸ¬ ì²˜ë¦¬
- `getAuthenticatedUser()`: ì¸ì¦ëœ ì‚¬ìš©ì ê°€ì ¸ì˜¤ê¸°
- `requireAdmin()`: ê´€ë¦¬ì ê¶Œí•œ ê²€ì¦

#### **rateLimit.ts** - Rate Limiting
- Upstash Redis ê¸°ë°˜ ë¶„ì‚° Rate Limiting
- IP ê¸°ë°˜, ì‚¬ìš©ì ê¸°ë°˜ ì œí•œ
- ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ì•Œê³ ë¦¬ì¦˜

#### **supabaseClient.ts** - Supabase í´ë¼ì´ì–¸íŠ¸
- `createBrowserSupabaseClient()`: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í´ë¼ì´ì–¸íŠ¸
- `createServerSupabaseClient()`: ì„œë²„ ì‚¬ì´ë“œ í´ë¼ì´ì–¸íŠ¸ (ì¿ í‚¤ ì²˜ë¦¬)
- `supabaseAdmin`: RLS ìš°íšŒ ê´€ë¦¬ì í´ë¼ì´ì–¸íŠ¸
- TypeScript íƒ€ì… ì •ì˜: `Database`, `RoomInsert`, `ProfileInsert` ë“±

#### **useAuth.tsx** - ì¸ì¦ Context
- `AuthContext`: ì „ì—­ ì¸ì¦ ìƒíƒœ
- `useAuth()`: í˜„ì¬ ì‚¬ìš©ì, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
- Mock ëª¨ë“œ ì§€ì› (ê°œë°œ í™˜ê²½)

#### **cache/redis.ts** - ìºì‹± ì‹œìŠ¤í…œ
- Redis/Upstash ì—°ë™
- êµ¬ì¡°í™”ëœ ìºì‹œ í‚¤: `CacheKeys.rooms()`, `CacheKeys.roomDetail(id)`
- TTL ê¸°ë°˜ ìë™ ë§Œë£Œ
- ê°œë°œ í™˜ê²½ì—ì„œëŠ” Redis ì—†ì´ë„ ë™ì‘ (í´ë°±)

#### **observability/logger.ts** - êµ¬ì¡°í™” ë¡œê¹…
- ìš”ì²­ ID ì¶”ì 
- PII ìŠ¤í¬ëŸ¬ë¹™ (ì´ë©”ì¼, ì „í™”ë²ˆí˜¸ ìë™ ë§ˆìŠ¤í‚¹)
- ì„±ëŠ¥ íƒ€ì´ë° ì¸¡ì •
- í™˜ê²½ë³„ ë¡œê·¸ í¬ë§· (ê°œë°œ: ì»¬ëŸ¬ ì½˜ì†”, í”„ë¡œë•ì…˜: JSON)

---

## ğŸ”¤ src/types/ - TypeScript íƒ€ì… ì •ì˜

```
types/
â”œâ”€â”€ global.d.ts               # ì „ì—­ íƒ€ì… ì •ì˜ (User, Room, Message ë“±)
â””â”€â”€ intersection-observer.d.ts # IntersectionObserver íƒ€ì… í™•ì¥
```

### global.d.ts ì£¼ìš” íƒ€ì…

- **User**: ì‚¬ìš©ì í”„ë¡œí•„
- **Room**: ëª¨ì„ ì •ë³´
- **JoinRequest**: ì°¸ê°€ ìš”ì²­
- **Match**: ë§¤ì¹­ ì •ë³´
- **Message**: ì±„íŒ… ë©”ì‹œì§€
- **ApiResponse**: API ì‘ë‹µ í¬ë§·
- **Coordinates**: ìœ„ë„/ê²½ë„ ì¢Œí‘œ
- **BoundingBox**: ì§€ë„ ì˜ì—­

---

## ğŸ“„ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ì£¼ìš” íŒŒì¼

```
meetpin/
â”œâ”€â”€ package.json              # npm íŒ¨í‚¤ì§€ ì •ì˜ ë° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ tsconfig.json             # TypeScript ì„¤ì •
â”œâ”€â”€ next.config.ts            # Next.js ì„¤ì •
â”œâ”€â”€ tailwind.config.ts        # Tailwind CSS ì„¤ì •
â”œâ”€â”€ postcss.config.mjs        # PostCSS ì„¤ì •
â”œâ”€â”€ jest.config.js            # Jest í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ playwright.config.ts      # Playwright E2E í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ .eslintrc.json            # ESLint ì„¤ì •
â”œâ”€â”€ .prettierrc               # Prettier ì„¤ì •
â”œâ”€â”€ .env.local                # í™˜ê²½ ë³€ìˆ˜ (ë¡œì»¬ ê°œë°œìš©, git ignore)
â”œâ”€â”€ .gitignore                # Git ignore ê·œì¹™
â”œâ”€â”€ README.md                 # í”„ë¡œì íŠ¸ ì†Œê°œ
â””â”€â”€ CLAUDE.md                 # Claude AI ê°œë°œ ê°€ì´ë“œ
```

---

## ğŸ—„ï¸ scripts/ - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í¬ë¦½íŠ¸

```
scripts/
â”œâ”€â”€ migrate.sql               # í…Œì´ë¸” ìƒì„±, ì¸ë±ìŠ¤, íŠ¸ë¦¬ê±°
â”œâ”€â”€ rls.sql                   # Row Level Security ì •ì±…
â””â”€â”€ seed.sql                  # ìƒ˜í”Œ ë°ì´í„° (ê°œë°œìš©)
```

Supabase SQL ì—ë””í„°ì—ì„œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰:
1. `migrate.sql` â†’ í…Œì´ë¸” ìƒì„±
2. `rls.sql` â†’ RLS ì •ì±… ì ìš©
3. `seed.sql` â†’ ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€ (ê°œë°œ í™˜ê²½ë§Œ)

---

## ğŸ§ª tests/ - í…ŒìŠ¤íŠ¸ íŒŒì¼

```
tests/
â”œâ”€â”€ __tests__/                # Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ lib/                  # lib/ í´ë” í…ŒìŠ¤íŠ¸
â”‚       â”œâ”€â”€ api.test.ts       # API ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â”‚       â”œâ”€â”€ zodSchemas.test.ts # Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦ í…ŒìŠ¤íŠ¸
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ rls/                      # Row Level Security í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ rls-security.spec.ts  # RLS ì •ì±… ê²€ì¦ í…ŒìŠ¤íŠ¸
â”‚
â””â”€â”€ e2e/                      # Playwright E2E í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ main-page-full-test.spec.ts # ë©”ì¸ í˜ì´ì§€ í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ new-landing-test.spec.ts    # ëœë”© í˜ì´ì§€ í…ŒìŠ¤íŠ¸
    â””â”€â”€ ...
```

---

## ğŸ“Š analysis/ - ë¦¬íŒ©í† ë§ ë¶„ì„ ë¬¸ì„œ

```
analysis/
â”œâ”€â”€ refactor-log.md           # ì „ì²´ ë¦¬íŒ©í† ë§ íˆìŠ¤í† ë¦¬
â”œâ”€â”€ unused-files.md           # ë¯¸ì‚¬ìš© íŒŒì¼ ëª©ë¡ (Step 2)
â”œâ”€â”€ duplicate-code.md         # ì¤‘ë³µ ì½”ë“œ ë¶„ì„ (Step 3)
â””â”€â”€ dependency-analysis.md    # ì˜ì¡´ì„± ë¶„ì„ (Step 8)
```

---

## ğŸ“– docs/ - í”„ë¡œì íŠ¸ ë¬¸ì„œ

```
docs/
â”œâ”€â”€ STRUCTURE.md              # í´ë” êµ¬ì¡° ì„¤ëª… (ì´ ë¬¸ì„œ)
â”œâ”€â”€ CONTRIBUTING.md           # ê¸°ì—¬ ê°€ì´ë“œ
â””â”€â”€ SETUP.md                  # ê°œë°œ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ
```

---

## ğŸŒ public/ - ì •ì  íŒŒì¼

```
public/
â”œâ”€â”€ images/                   # ì´ë¯¸ì§€ íŒŒì¼
â”‚   â”œâ”€â”€ logo.png              # ë¡œê³ 
â”‚   â”œâ”€â”€ hero-bg.jpg           # íˆì–´ë¡œ ë°°ê²½
â”‚   â””â”€â”€ ...
â”œâ”€â”€ fonts/                    # í°íŠ¸ íŒŒì¼ (Pretendard)
â”œâ”€â”€ favicon.ico               # íŒŒë¹„ì½˜
â”œâ”€â”€ robots.txt                # ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ ê·œì¹™
â””â”€â”€ sitemap.xml               # ì‚¬ì´íŠ¸ë§µ
```

---

## ğŸ¯ ì£¼ìš” ì•„í‚¤í…ì²˜ íŒ¨í„´

### 1. Next.js 15 App Router
- **ì„œë²„ ì»´í¬ë„ŒíŠ¸ ìš°ì„ **: ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ì—ì„œ ë Œë”ë§
- **í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸**: `'use client'` ì§€ì‹œì–´ë¡œ ëª…ì‹œ
- **API ë¼ìš°íŠ¸**: `app/api/` í´ë”ì—ì„œ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ë¡œ ë™ì‘

### 2. ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ë¶„ë¦¬
- **ì„œë²„ ì „ìš©**: `services/auth.ts` (RLS ìš°íšŒ, ê´€ë¦¬ì ê¸°ëŠ¥)
- **í´ë¼ì´ì–¸íŠ¸ ì „ìš©**: `services/authService.ts` (UI ìƒíƒœ, localStorage)
- **ê³µí†µ**: `lib/api.ts` (ì–‘ìª½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìœ í‹¸ë¦¬í‹°)

### 3. íƒ€ì… ì•ˆì „ì„±
- **ì¤‘ì•™ ì§‘ì¤‘ì‹ íƒ€ì…**: `types/global.d.ts`
- **Zod ìŠ¤í‚¤ë§ˆ**: ëŸ°íƒ€ì„ ê²€ì¦ + TypeScript íƒ€ì… ì¶”ë¡ 
- **Supabase íƒ€ì… ìƒì„±**: `supabaseClient.ts`ì—ì„œ DB ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ íƒ€ì…

### 4. ê´€ì‹¬ì‚¬ ë¶„ë¦¬
- **ì»´í¬ë„ŒíŠ¸**: ì˜¤ì§ UI ë Œë”ë§ì—ë§Œ ì§‘ì¤‘
- **í›…**: ìƒíƒœ ê´€ë¦¬ + ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **ì„œë¹„ìŠ¤**: ë°ì´í„° CRUD + ì™¸ë¶€ API í˜¸ì¶œ
- **ìœ í‹¸ë¦¬í‹°**: ìˆœìˆ˜ í•¨ìˆ˜, í—¬í¼

### 5. ë³´ì•ˆ ê³„ì¸µ
- **RLS (Row Level Security)**: ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ ê¶Œí•œ ì œì–´
- **API ì¸ì¦**: `getAuthenticatedUser()` ë¯¸ë“¤ì›¨ì–´
- **Rate Limiting**: API ìš”ì²­ ì œí•œ
- **ì…ë ¥ ê²€ì¦**: Zod ìŠ¤í‚¤ë§ˆë¡œ ëª¨ë“  ì…ë ¥ ê²€ì¦
- **CSP í—¤ë”**: XSS ë°©ì§€

---

## ğŸ“¦ import ê²½ë¡œ ê·œì¹™

TypeScript `baseUrl` ì„¤ì •ìœ¼ë¡œ `@/` prefixë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```typescript
// âœ… ì˜¬ë°”ë¥¸ import
import { ApiResponse } from '@/lib/api'
import { RoomCard } from '@/components/room/RoomCard'
import { useAuth } from '@/lib/useAuth'

// âŒ ì˜ëª»ëœ import
import { ApiResponse } from '../../../lib/api'
import { RoomCard } from '../../components/room/RoomCard'
```

**ê·œì¹™:**
- ëª¨ë“  ì ˆëŒ€ ê²½ë¡œëŠ” `@/`ë¡œ ì‹œì‘
- `@/`ëŠ” `src/` í´ë”ë¥¼ ê°€ë¦¬í‚´
- ìƒëŒ€ ê²½ë¡œ(`../`, `./`)ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

---

## ğŸ” ì½”ë“œ ì°¾ê¸° íŒ

### ê¸°ëŠ¥ë³„ íŒŒì¼ ìœ„ì¹˜

| ì°¾ê³  ì‹¶ì€ ê²ƒ | ìœ„ì¹˜ |
|------------|------|
| API ì—”ë“œí¬ì¸íŠ¸ | `src/app/api/` |
| í˜ì´ì§€ ë¼ìš°íŠ¸ | `src/app/` |
| React ì»´í¬ë„ŒíŠ¸ | `src/components/` |
| ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ | `src/lib/services/` |
| ê³µí†µ ìœ í‹¸ë¦¬í‹° | `src/lib/utils/` |
| TypeScript íƒ€ì… | `src/types/global.d.ts` |
| ì „ì—­ ìƒíƒœ | `src/lib/useAuth.tsx` |
| ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ | `scripts/migrate.sql` |
| í™˜ê²½ ë³€ìˆ˜ | `.env.local` |

---

## ğŸš€ ê°œë°œ ì‹œì‘í•˜ê¸°

1. **ë£¨íŠ¸ íŒŒì¼ë¶€í„°**: `README.md` â†’ `CLAUDE.md` â†’ `docs/SETUP.md`
2. **íƒ€ì… ì´í•´**: `src/types/global.d.ts` ì½ê¸°
3. **API êµ¬ì¡° íŒŒì•…**: `src/lib/api.ts` â†’ `src/app/api/` í›‘ì–´ë³´ê¸°
4. **ì£¼ìš” í˜ì´ì§€ í™•ì¸**: `src/app/map/page.tsx` (ë©”ì¸ ì•±)
5. **ì»´í¬ë„ŒíŠ¸ ë‘˜ëŸ¬ë³´ê¸°**: `src/components/ui/` â†’ ë„ë©”ì¸ë³„ í´ë”

---

## ğŸ“ ë¬¸ì˜ ë° ê¸°ì—¬

- ë²„ê·¸ ë¦¬í¬íŠ¸: GitHub Issues
- ê¸°ì—¬ ë°©ë²•: [CONTRIBUTING.md](./CONTRIBUTING.md)
- ê°œë°œ í™˜ê²½ ì„¤ì •: [SETUP.md](./SETUP.md)

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-01
**ë¬¸ì„œ ë²„ì „**: 1.0.0
**í”„ë¡œì íŠ¸ ë²„ì „**: 1.4.24
