# 밋핀(MeetPin) 환경 변수 예시
# 각 키를 실제 값으로 교체하여 .env.local 파일을 생성하세요

# ============================================================
# Supabase (백엔드 서비스)
# ============================================================
# Supabase 프로젝트 URL (브라우저 노출 가능)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (브라우저 노출 가능 - RLS로 보안 처리됨)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (서버 전용 - 절대 브라우저 노출 금지)
# RLS 우회 권한이 있어 Admin 기능에서만 사용
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================
# Redis 캐시 (성능 최적화)
# ============================================================
# Redis 연결 URL (선택사항 - 없으면 캐시 비활성화)
# 예: redis://username:password@hostname:port
# 또는 Upstash Redis: redis://...@...upstash.io:6379
REDIS_URL=redis://localhost:6379

# ============================================================
# 카카오맵 API (지도 서비스)
# ============================================================
# 카카오 JavaScript Key (브라우저 노출 가능 - 도메인 제한으로 보안)
NEXT_PUBLIC_KAKAO_JAVASCRIPT_KEY=your-kakao-javascript-key

# ============================================================
# 텔레메트리 및 관측성 (Observability)
# ============================================================
# 텔레메트리 샘플링 비율 (0.0-1.0, 기본값: 0.1 = 10%)
TELEMETRY_SAMPLING_RATE=0.1
NEXT_PUBLIC_TELEMETRY_SAMPLING_RATE=0.1

# Sentry DSN (옵션 - 오류 추적)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================================
# Synthetic 모니터링 및 알림
# ============================================================
# 알림 이메일 (더미 값)
SYNTHETIC_ALERT_EMAIL=ops@example.com

# Slack 웹훅 URL (더미 값)
SYNTHETIC_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
# https://developers.kakao.com 에서 발급
NEXT_PUBLIC_KAKAO_JAVASCRIPT_KEY=your_kakao_javascript_key

# ============================================================
# Stripe 결제 시스템
# ============================================================
# Stripe Secret Key (서버 전용 - 절대 브라우저 노출 금지)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe Publishable Key (브라우저 노출 가능)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe Webhook Secret (서버 전용 - 웹훅 서명 검증용)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs (옵션 - 고정 상품 사용 시)
STRIPE_PRICE_1D_ID=price_1day_boost_id
STRIPE_PRICE_3D_ID=price_3day_boost_id
STRIPE_PRICE_7D_ID=price_7day_boost_id

# ============================================================
# 앱 설정
# ============================================================
# 사이트 기본 URL (리다이렉트, OG 메타 등에 사용)
NEXT_PUBLIC_SITE_URL=http://localhost:3001
SITE_URL=http://localhost:3001

# ============================================================
# Feature Flags (기능 토글)
# ============================================================
# 카카오 OAuth 로그인 활성화 (기본: false)
NEXT_PUBLIC_ENABLE_KAKAO_OAUTH=false

# Stripe Checkout 자동 결제 (기본: true, false면 Payment Link 수동)
NEXT_PUBLIC_ENABLE_STRIPE_CHECKOUT=true

# 관리자 패널 활성화 (기본: true)
NEXT_PUBLIC_ENABLE_ADMIN_PANEL=true

# 실시간 알림 활성화 (기본: true)
NEXT_PUBLIC_ENABLE_REALTIME_NOTIFICATIONS=true

# 사용자 신고/차단 기능 (기본: true)
NEXT_PUBLIC_ENABLE_USER_REPORTING=true

# 위치 기반 검색 (기본: true)
NEXT_PUBLIC_ENABLE_LOCATION_SEARCH=true

# 파일 업로드 기능 (기본: true)
NEXT_PUBLIC_ENABLE_FILE_UPLOAD=true

# 푸시 알림 (기본: false)
NEXT_PUBLIC_ENABLE_PUSH_NOTIFICATIONS=false

# 고급 필터링 (기본: false)
NEXT_PUBLIC_ENABLE_ADVANCED_FILTERS=false

# 분석 도구 활성화 (기본: false)
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# 개발용 Mock 데이터/인증 강제 활성화
# true 로 설정하면 Supabase 대신 mock 데이터 및 localStorage를 사용합니다.
# 배포 환경에서는 반드시 false 로 유지하세요.
NEXT_PUBLIC_USE_MOCK_DATA=false

# ============================================================
# 봇 시스템 설정
# ============================================================
# 봇 계정 기본 비밀번호 (서버 전용 - 절대 브라우저 노출 금지)
BOT_DEFAULT_PASSWORD=your_secure_bot_password_here

# 봇 관리자 키 (서버 전용 - 봇 생성 API 보호용)
BOT_ADMIN_KEY=your_bot_admin_key_here

# ============================================================
# 보안 하드닝 (Phase A)
# ============================================================
# Upstash Redis (레이트 리밋 및 캐싱) - 서버 전용
# https://upstash.com 에서 Redis 데이터베이스 생성 후 발급
UPSTASH_REDIS_REST_URL=https://your-redis-rest-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_redis_rest_token

# 프로덕션 도메인 설정 (환경별)
PROD_DOMAIN=meetpin.app
STAGE_DOMAIN=staging.meetpin.app

# CSP 리포트 수집 활성화 (기본: true)
NEXT_PUBLIC_ENABLE_CSP_REPORTING=true

# 보안 헤더 강화 모드 (기본: true - Report-Only에서 Enforce로 전환)
NEXT_PUBLIC_SECURITY_HEADERS_ENFORCE=true

# ============================================================
# 외부 서비스 (옵션)
# ============================================================
# Sentry 에러 추적 (옵션) - 프로덕션 환경에서 실시간 오류 모니터링
# https://sentry.io 에서 프로젝트 생성 후 DSN 발급
NEXT_PUBLIC_SENTRY_DSN=https://your_sentry_dsn_here
SENTRY_DSN=https://your_sentry_dsn_here

# Plausible 웹 분석 (옵션) - 개인정보 보호 중심 웹 분석 
# https://plausible.io 에서 사이트 등록 후 도메인 설정
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=meetpin.app

# Umami 웹 분석 (옵션) - 개인정보 보호 중심 웹 분석
# https://umami.is 에서 사이트 등록 후 Website ID 발급
NEXT_PUBLIC_UMAMI_WEBSITE_ID=your_umami_website_id

# ============================================================
# 개발 환경 전용
# ============================================================
# 개발 시에만 사용할 설정들
NODE_ENV=development

# 디버그 로깅 활성화
DEBUG=meetpin:*

# ============================================================
# 주의사항
# ============================================================
# 1. NEXT_PUBLIC_ 접두사가 있는 환경변수만 브라우저에서 접근 가능
# 2. 서버 전용 키들(Service Role, Secret Key 등)은 절대 브라우저 노출 금지
# 3. 프로덕션 배포 시 모든 키를 실제 값으로 교체
# 4. .env.local은 .gitignore에 포함되어 Git에 커밋되지 않음